# Inflating a Pillow
Tested with CGX 2.16 / CCX 2.15

+ Non-linear static solution
+ Shell elements
+ Symmetry expansion in the post-processing

File                      | Contents    
 :-------------           | :-------------
 [run.fbd](run.fbd)       | CGX control script     
 [static.inp](static.inp) | CCX input
 [test.py](test.py)       | Python script for automatic re-calculation

## Automatic test run
Run the analysis for the element types S8R, S8, S4R and S4:
```
> ./test.py
```
This will pop up the convergence plot and cgx for each run. Close these windows to continue the loop.

The script sets the element type in [run.fbd](run.fbd). Then, the analysis is run
and the result plots are generated and renamed according to the element type.

Command for a single analysis:
```
> cgx -b run.fbd
```
## Pre-processing

The structure represents one quarter of the upper side of the pillow. The square sheet is
constrained according to z-symmetry at the outer rim (green), and according to x symmetry at x = 0 (red)
and to y-symmetry at y = 0 (blue). The bottom side of the sheet is loaded by a uniform pressure.

<img src="sets.png" width="400">

## Solving
The problem involves heavy buckling and challenges the non-linear solver. In order to obtain a solution, the convergence criteria are relaxed in the first step. In the second step, the default values are restored. For the given parameters in the stored example, this is not relevant, as the solution at the end of step 1 already meets the default criteria.

 Command for running the solver and generating the convergence plot:

```
> ccx static
> monitor.py static
```
![Refs/static-s8r.png](Refs/static-s8r.png)

## Postprocessing
To give an impression of the complete pillow, symmetry expansion in all three directions is used.

 <img src="Refs/expanded-s8r.png" width="400" title="Expanded model">

The single layer of C3D20R-Elements, which is generated by CCX to represent the shell elements, exhibits hourglassing. This severely affects the bending stiffness and adds instabilities to the model.

![Refs/cuty0-s8r.png](Refs/cuty0-s8r.png)

## Variation of the element type

Here, results of a comparison for the element types S4, S4R, S8 and S8R is given.

|Type in CGX | Type in CCX | max D | Iterations |
|:--         | :--         | :--   | :--        |
|qu8r        | S8R         | 44.8  | 169        |
|qu8         | S8          | 36.9  | 82         |
|qu4r        | S4R         | 36,2  | 58         |
|qu4         | S4          | 37,6  | 157 (60%)  |

### Convergence

|    |     |
|:-- | :-- |
|S8R | S8  |
|S4R | S4  |


<img src="Refs/static-s8r.png" width="400" title="S8R"><img src="Refs/static-s8.png" width="400" title="S8">
<img src="Refs/static-s4r.png" width="400" title="S4R"><img src="Refs/static-s4.png" width="400" title="S4">

### Deformation

<img src="Refs/expanded-s8r.png" width="400" title="S8R"><img src="Refs/expanded-s8.png" width="400" title="S8">
<img src="Refs/expanded-s4r.png" width="400" title="S4R"><img src="Refs/expanded-s4.png" width="400" title="S4">

### Cut view

<img src="Refs/cuty0-s8r.png" width="400" title="S8R"><img src="Refs/cuty0-s8.png" width="400" title="S8">
<img src="Refs/cuty0-s4r.png" width="400" title="S4R"><img src="Refs/cuty0-s4.png" width="400" title="S4">
